## RandomForest

<br/>

## 1. 모델 정의

<br/>

- 각각의 의사 결정 트리를 만드는데 있어 쓰이는 특징들을(흡연 여부, 나이, 등등) 무작위로 선정한다는 의미

- Forest(숲)은 나무로 이루어져있으며 나무가 모여서 숲을 만든다.

  ⇒ 마찬가지로 랜덤 포레스트는 수많은 의사결정 트리가 모여서 생성된다.

- 상단 의사결정트리에서는, 건강 위험도를 세 가지 요소와 한 가지 의사결정 트리로 인해 결정했다.

- 하지만, 건강 위험도 예측하기 위해 더 많은 요소를 고려하는 것이 바람직하다.
    
    ⇒ 예를 들어, 성별 / 키 / 몸무게 / 거주지역 / 운동량 / 기초 대사량 / 근육량 등 수많은 요소가 개입한다.
    
- 하지만 이렇게 수많은 요소(Freature)들을 기반으로 건강 위험도(Target)를 예측한다면 오버피팅이 일어난다.
    
    ⇒ 예를 들어 30개의 Feature를 기반으로 하나의 의사결정 트리를 만든다면 오버피팅이 일어난다.

<br/>

- 따라서, 랜덤 포레스트는 전체 Feature 중에서 랜덤으로 일부만 선택해 하나의 결정 트리를 만들고,
    
  또 전체 Feature 중 랜덤으로 일부만 선택해 다른 결정트리를 만들기를 반복하며 여러개의 의사결정트리를 생성한다.
    
- 결과적으로 의사결정 트리마다 하나의 예측 값을 구해 가장 많이 나온 값을 최종 예측값으로 채택한다.
    
  ⇒ 즉, 의사결정트리들의 값들에 대해 다수결의 원칙을 따른다.
  
  ⇒ 한 명의 똑똑한 사람보다 100명의 평범한 사람이 문제를 더 잘 푸는 원리
    
  ⇒ 이렇게 여러가지 결과를 합치는 방식을 앙상블이라고 한다.

<br/><br/>

## 2. 작동 원리

<br/>

① 전체 특징 중 일부 특징을 무작위로 선택합니다.

<br/>

- 흡연 여부, 키, 몸무게, 나이가 선택되었다고 가정한다.

- 선택된 일부 특징을 사용해, 가장 건강 위험도를 잘 예측할 수 있는 하나의 트리를 구성

- 원하는 개수의 트리가 생성되기까지 위 과정을 반복

- 트리의 개수는 사용자가 원하는 만큼 생성이 가능하다.

<br/>

② 그렇다면, 왜 랜덤 포레스트는 의사 결정 트리의 한 단계를 만들 때마다 모든 요소를 고려하지 않을까?

<br/>

- 그것은 역설적으로 모든 요소를 고려하기 위함이다.

- 만약 의사 결정 트리의 한 단계를 만드는데 모든 요소를 고려한다면, 모든 의사 결정 트리가 같은 5~6개의 요소만을 가지고 생성된다.

- 고려해야 할 요소는 30개인데, 모든 트리가 흡연 여부, 나이, 식단, 몸무게, 성별 등으로 구성되게 된다.

- 하지만, 아무리 5~6개의 요소가 가장 “똑똑한” 요소들 이어도, 나머지 25개의 “덜 똑똑한” 요소들을 고려하는 것이 최종 목적

  ⇒ 전교 1등 한 명보다 전교 5등 100명이 아는 것이 더 많은 것과 비슷한 원리

- 이처럼 여러 개의 결정 트리를 통해 랜덤 포레스트를 만들면 오버피팅 되는 단점을 해결할 수 있다.

<br/><br/>

### 3. 랜덤포레스트 장점

<br/>

- Classification(분류) 및 Regression(회귀) 문제에 모두 사용 가능

- Missing value(결측치)를 다루기 쉬움

- 대용량 데이터 처리에 효과적

- 모델의 노이즈를 심화시키는 Overfitting(오버피팅) 문제를 회피하여, 모델 정확도를 향상시킴

- Classification 모델에서 상대적으로 중요한 변수를 선정 및 Ranking 가능

<br/>

[image 0]

<br/>
